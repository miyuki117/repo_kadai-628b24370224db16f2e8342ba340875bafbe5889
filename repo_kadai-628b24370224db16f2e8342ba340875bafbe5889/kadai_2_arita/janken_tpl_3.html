<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!-- <meta name="viewport" content="width=device-width">
  -->
<meta name=”viewport” content=”width=device-width,initial-scale=1.0″>

<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>じゃんけん</title>

</head>

<body>

   

<header>
  <h1>じゃんけんアプリ</h1>
  
  <div class="annaunce">
   <ul>
      <li><ルール></li>
      <li>1Playに1ポイント消費</li>
      <li>「勝ち」は2ポイント、「引き分け」は1ポイント獲得</li>
      <li>「負け」は２ポイント消費</li>
      <li>※５ポイント以上ないとゲームは続けられないよ！</li>
   </ul>
   <div>現在のポイント数：「<span id="point">10</span>ポイント」</div>

  </div>

  <!-- <button>PLAY</button> -->


 
</header>

<main>
   <div class="janken">
      <p>好きな手を選んでね</p>
      <ul>
      <li id="gu_btn"><img src="./img/gu_2.png" alt=""></li>
      <li id="cho_btn"><img src="./img/cho_2.png" alt=""></li>
      <li id="par_btn"><img src="./img/pa_2.png" alt=""></li>
      </ul>
      <!-- 結果ボタン押下後 -->
      <div id="result"  class="hidden">

         <!-- pcの結果テキスト -->
         <div id="pc_hands"></div>
         <!-- 勝負の結果イラスト -->
         <div id="img_2"></div>
   
      </div>
 </div>

  <!-- <div class="visual">  -->



    <!-- 結果ボタン -->
   <div class="btn" >
      <button id="result_btn"><span id ="btn_name">結果を見る</span></button>
   </div> 




   <!-- 結果ボタンを押したら表示させる
     <div id="result" class="hidden">
   
     </div> -->
 

  

   <!-- <div id="resurt_btn" class="hidden">
      <div id="img_2"></div>
   </div> -->
   
   <!-- <span id="judgment">グー ・チョキ ・ パーを選んでね</span> -->


  
 <!-- <div>コンピュータの出した手は？「<span id="pc_hands">なに？</span>」</div> -->
  <!-- <div id="judgment">勝ち</div> -->





</main>

<footer>  
</footer>

<script>
//じゃんけん用のSCRIPTを書いてください

let i = 10; //ポイント数
let j = 0; //勝った回数
let k =0; //結果イラスト
let l =0; //コンピューターの結果
 m =false; //ユーザーがボタンを押したか


// =====グー===============
$("#gu_btn").on ("click",function(){
i = i-1;
const r =Math.random()*3; //「3」を掛けることで、小数点繰り上げたときに数字が1～5になる
const n = Math.ceil(r); //繰り上げ0.01→１を「n」に渡す
console.log(n);
$("#btn_name").html("結果を見る");

if(i>=5){

// 勝ち
if(n == 1){
   l ="コンピューターの出した手は「チョキ」"
   i = i + 2; //勝ったので２ポイント獲得
   j = j+ 1; //勝ち数１追加
   k ='<img src="./img/win.png">';
}

//負け
if(n == 2){
   l = "コンピューターの出した手は「パー」"
   i = i -2; //負けなので２ポイント減る
   k ='<img src="./img/lose.png">';
}

//引き分け
if(n == 3){
   l = "コンピューターの出した手は「グー」"
   i = i + 1; //相子なので２ポイント獲得
   k ='<img src="./img/draw.png">';
}


$("#point").html(i);

}else{
   alert("ポイントが足りません")
   alert("ポイントをチャージしますか？")
   i =i+10;
   $("#point").html(i);
}
})

// =======チョキ============

$("#cho_btn").on ("click",function(){
   i = i-1;
const r =Math.random()*3; //「3」を掛けることで、小数点繰り上げたときに数字が1～5になる
const n = Math.ceil(r); //繰り上げ0.01→１を「n」に渡す
console.log(n);
$("#btn_name").html("結果を見る");

if(i>=5){

//勝ち
if(n == 1){
   l ="コンピューターの出した手は「パー」"
   i = i + 2; //勝ったので２ポイント獲得
   j = j+ 1; //勝ち数１追加
   k ='<img src="./img/win.png">';
}

//負け
if(n == 2){
   l = "コンピューターの出した手は「グー」"
   i = i -2; //負けなので２ポイント減る
   k ='<img src="./img/lose.png">';
}

//引き分け
if(n == 3){
   l = "コンピューターの出した手は「チョキ」"
   i = i + 1; //相子なので２ポイント獲得
   k ='<img src="./img/draw.png">';
}

$("#point").html(i);

}else{
   alert("ポイントが足りません")
   alert("ポイントをチャージしますか？")
   i =i+10;
   $("#point").html(i);
}
})

//====パー===========

$("#par_btn").on ("click",function(){
   i = i-1;
const r =Math.random()*3; //「3」を掛けることで、小数点繰り上げたときに数字が1～5になる
const n = Math.ceil(r); //繰り上げ0.01→１を「n」に渡す
console.log(n);
$("#btn_name").html("結果を見る");

if(i>=5){

// 勝ち
if(n == 1){
   l ="コンピューターの出した手は「グー」"
   i = i + 2; //勝ったので２ポイント獲得
   j = j+ 1; //勝ち数１追加
   k ='<img src="./img/win.png">';
}

// 負け
if(n == 2){
   l = "コンピューターの出した手は「チョキ」"
   i = i -2; //負けなので２ポイント減る
   k ='<img src="./img/lose.png">';
}

//引き分け
if(n == 3){
   l = "コンピューターの出した手は「パー」"
   i = i + 1; //相子なので２ポイント獲得
   k ='<img src="./img/draw.png">';
}



}else{
   alert("ポイントが足りません")
   alert("ポイントをチャージしますか？")
   i =i+10;
   $("#point").html(i);
}
})





$("#result_btn").on ("click",function(){

   $("#pc_hands").html(l);
   $('#img_2').fadeIn(3000);
   $("#img_2").html(k); 
   $("#btn_name").html("OK");
   $("#point").html(i);
   // console.log(m);


})

// 結果ボタンを押したら表示にする
const button = document.querySelector('#result_btn');
button.addEventListener('click',ToggleDisplay);

function ToggleDisplay(){
   const result =document.querySelector('#result');
   result.classList.toggle('hidden');
   result.classList.toggle('result');

}



 


    
    
    
    
    
    
    

</script>
</body>
</html>
