<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<!-- <meta name="viewport" content="width=device-width">
  -->
<meta name=”viewport” content=”width=device-width,initial-scale=1.0″>

<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>じゃんけん</title>

</head>

<body>

   

<header background="./img/gu_2.png">
  <h1>じゃんけんアプリ</h1>
  
  <div class="annaunce">
   <ul>
      <li>ルール</li>
      <li>1Playに1ポイント消費</li>
      <li>「勝ち」は2ポイント、「引き分け」は1ポイント獲得</li>
      <li>「負け」は２ポイント消費</li>
   </ul>
   <div>現在のポイント数：「<span id="point">10</span>ポイント」</div>

  </div>

  <!-- <button>PLAY</button> -->


 
</header>

<main>
   <div class="janken">
   <p>好きな手を選んでね</p>
   <ul>
    <li id="gu_btn"><img src="./img/gu_2.png" alt=""></li>
    <li id="cho_btn"><img src="./img/cho_2.png" alt=""></li>
    <li id="par_btn"><img src="./img/pa_2.png" alt=""></li>
   </ul>
 </div>

  <!-- <div class="visual">  -->


   <!-- 結果ボタン押下後 -->
   <div id="result" class="hidden">

    <!-- pcの結果テキスト -->
      <div><span id="pc_hands"></span></div>
    <!-- 勝負の結果イラスト -->
      <div id="img_2" class="hidden"></div>
    <!-- もう一度遊ぶボタン -->
      <button id="reset_btn">もう一度遊ぶ</button>
   
   </div>

    <!-- 結果ボタン -->
   <div class="btn">
      <button id="result_btn"><span id="btn_name">結果</span></button>
   </div> 




   <!-- 結果ボタンを押したら表示させる
     <div id="result" class="hidden">
   
     </div> -->
 

  

   <!-- <div id="resurt_btn" class="hidden">
      <div id="img_2"></div>
   </div> -->
   
   <!-- <span id="judgment">グー ・チョキ ・ パーを選んでね</span> -->


  
 <!-- <div>コンピュータの出した手は？「<span id="pc_hands">なに？</span>」</div> -->
  <!-- <div id="judgment">勝ち</div> -->

  <!-- <div>勝った回数「<span id="winning_count">0</span>回」
    試合数「<span id="total_count">0</span>回」
    </div>

  <div>勝率「<span id="winning_rate">0</span>%」</div> -->



</main>

<footer></footer>

<script>
//じゃんけん用のSCRIPTを書いてください

let i = 10; //ポイント数
let j = 0; //勝った回数
let k =0; //結果イラスト
let l =0; //コンピューターの結果



 // クリックアクション 「グー」
 $("#gu_btn").on ("click",function(){

 if(i>1){ //★最低必要なポイント数を変更する
   
//1ポイント利用する 
// alert("1ポイント利用します。")
i = i-1;
// $("#btn_name").html("結果");


const r =Math.random()*3; //「3」を掛けることで、小数点繰り上げたときに数字が1～5になる
const n = Math.ceil(r); //繰り上げ0.01→１を「n」に渡す
console.log(n);
// i = i + 1;
// $("#user_hands").html("あなたが出した手は「グー」");
// $("#img_1").html('<img src="./img/gu.png">');


if(n == 1){
  i = i + 2;
  j = j+ 1;
 
   // $("#judgment").css("color","#ff0000"); //文字を赤
   // $("#judgment").html("あなたの 勝ち!!!")
   // $("#img_2").html('<img src="./img/win.png">');
   // $("#echo").fadeOut(3000); //3秒たったらフェードアウト、さらに3秒たったらフェードイン
   k ='<img src="./img/win.png">';
   l ="コンピューターの出した手は「チョキ」"
   // $("#img_2").html('<img src="./img/win.png">');
     // $("#pc_hands").html("コンピューターの出した手は「チョキ」"); 
}

if(n == 2){
   i = i - 2;

   // $("#judgment").css("color","#0000ff"); //文字を青
   // $("#judgment").html("あなたの負け。。。")
   // $("#img_2").html('<img src="./img/lose.png">');
   k ='<img src="./img/lose.png">';
   l = "コンピューターの出した手は「パー」"
   // $("#img_2").html('<img src="./img/lose.png">');
   // $("#pc_hands").html("コンピューターの出した手は「パー」");
}

if(n == 3){
   i = i + 1;

   // $("#judgment").css("color","#32cd32"); //文字を緑
   // $("#judgment").html("おっとあいこ！もう一回")
   // $("#img_2").html('<img src="./img/draw.png">');
   k ='<img src="./img/draw.png">';
   l ="コンピューターの出した手は「グー」"
   // $("#img_2").html('<img src="./img/draw.png">');
   // $("#pc_hands").html("コンピューターの出した手は「グー」");
   


// $("#total_count").html(i);
// $("#winning_count").html(j);
// const o =Math.ceil(j/i*100)
// $("#winning_rate").html(o);

}

$("#point").html(i);


}else{
   alert("ポイントが足りません")
   alert("ポイントをチャージしますか？")
   i =i+10;
   $("#point").html(i);
}

})

$("#result_btn").on ("click",function(){

   $("#pc_hands").html(l);
   $('#img_2').fadeIn(3000);
   $("#img_2").html(k); 
   // $("#btn_name").html("OK");


   // $("#img_2").fadeOut(3000); なぜか画像が表示できなくなってしまうのでNG

})

// ボタンを押したら非表示にする
const button = document.querySelector('#result_btn');
button.addEventListener('click',ToggleDisplay);

function ToggleDisplay(){
   const demo =document.querySelector('#result');
   demo.classList.toggle('hidden');
   const demo_2 =document.querySelector('#result_btn');
   demo_2.classList.toggle('hidden');
}

const button_2 = document.querySelector('#reset_btn');
button_2.addEventListener('click',ToggleDisplay);

function ToggleDisplay(){
   const demo =document.querySelector('#result');
   demo.classList.toggle('hidden');
}









// クリックアクション 「チョキ」
$("#cho_btn").on ("click",function(){

const r =Math.random()*3; //「3」を掛けることで、小数点繰り上げたときに数字が1～5になる
const n = Math.ceil(r); //繰り上げ0.01→１を「n」に渡す
console.log(n);
i = i + 1;
$("#user_hands").html("あなたが出した手は「チョキ」");
$("#img_1").html('<img src="./img/cho.png">');

if(n == 1){
  j = j + 1;
   $("#pc_hands").html("コンピューターの出した手は「パー」"); //
   $("#judgment").css("color","#ff0000"); //文字を赤
   $("#judgment").html("あなたの 勝ち!!!")
   $("#img_2").html('<img src="./img/pa.png">');
   // $("#echo").fadeOut(3000); //3秒たったらフェードアウト、さらに3秒たったらフェードイン

}
if(n == 2){
   $("#pc_hands").html("コンピューターの出した手は「グー」");
   $("#judgment").css("color","#0000ff"); //緑
   $("#judgment").html("あなたの負け。。。")
   $("#img_2").html('<img src="./img/gu.png">');
   

}

if(n == 3){
   $("#pc_hands").html("コンピューターの出した手は「チョキ」");
   $("#judgment").css("color","#32cd32"); //文字を緑
   $("#judgment").html("おっとあいこ！もう一回")
   $("#img_2").html('<img src="./img/cho.png">');
}

$("#total_count").html(i);
$("#winning_count").html(j);
const o =Math.ceil(j/i*100)
$("#winning_rate").html(o);


})

// クリックアクション 「パー」
$("#par_btn").on ("click",function(){

const r =Math.random()*3; //「3」を掛けることで、小数点繰り上げたときに数字が1～5になる
const n = Math.ceil(r); //繰り上げ0.01→１を「n」に渡す
console.log(n);
i = i + 1;
$("#user_hands").html("あなたが出した手は「パー」");
$("#img_1").html('<img src="./img/pa.png">');

if(n == 1){
  j = j + 1;
   $("#pc_hands").html("コンピューターの出した手は「グー」"); //
   $("#judgment").css("color","#ff0000"); //文字を赤
   $("#judgment").html("あなたの勝ち！！！")
   $("#img_2").html('<img src="./img/gu.png">');
}
if(n == 2){
   $("#pc_hands").html("コンピューターの出した手は「チョキ」");
   $("#judgment").css("color","#0000ff"); //青
   $("#judgment").html("あなたの負け。。。")
   $("#img_2").html('<img src="./img/cho.png">');
   

}

if(n == 3){
   $("#pc_hands").html("コンピューターの出した手は「パー」");
   $("#judgment").css("color","#32cd32"); //文字を緑
   $("#judgment").html("おっとあいこ！もう一回")
   $("#img_2").html('<img src="./img/pa.png">');
}

$("#total_count").html(i);
$("#winning_count").html(j);
const o =Math.ceil(j/i*100)
$("#winning_rate").html(o);


})


 


    
    
    
    
    
    
    

</script>
</body>
</html>
